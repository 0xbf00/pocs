LDFLAGS =-Wl,-sectcreate,__TEXT,__info_plist,Info.plist
LDLIBS =-framework AudioToolbox -framework CoreFoundation -framework AppKit

# Adapt signing identity to locally available cert name
SIGNING_IDENTITY=Developer

all:
	clang -o recorder-poc recorder-poc.c $(LDFLAGS) $(LDLIBS)
	codesign -s $(SIGNING_IDENTITY) --entitlements entitlements.xml recorder-poc